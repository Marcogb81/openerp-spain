<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="payment-order" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="OPENERP_RELATIONS" value="[&apos;line_ids&apos;]"/>
	<property name="ireport.zoom" value="1.331000000000002"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="defecto" forecolor="#FFFFFF" fontSize="10" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
	<style name="negrita" vAlign="Middle" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica"/>
	<style name="textoscabecera" style="defecto" forecolor="#000000" backcolor="#CCFFCC" radius="10" fontSize="12" isBold="true" pdfFontName="Helvetica" isPdfEmbedded="false">
		<pen lineWidth="1.0" lineColor="#FF0066"/>
	</style>
	<parameter name="HEADER_DS" class="java.lang.Object"/>
	<parameter name="STANDARD_DIR" class="java.lang.String"/>
	<queryString language="xPath">
		<![CDATA[]]>
	</queryString>
	<field name="id" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/id]]></fieldDescription>
	</field>
	<field name="total" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[/data/record/total]]></fieldDescription>
	</field>
	<field name="amount" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[/data/record/line_ids/amount]]></fieldDescription>
	</field>
	<field name="company_name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/User/company_id/partner_id/name]]></fieldDescription>
	</field>
	<field name="lang" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/User/company_id/partner_id/lang]]></fieldDescription>
	</field>
	<field name="order_number" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/name]]></fieldDescription>
	</field>
	<field name="partner_name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/Lineas_de_pago-line_ids/Empresa-partner_id/Nombre-name]]></fieldDescription>
	</field>
	<field name="due_date" class="java.util.Date">
		<fieldDescription><![CDATA[/data/record/Lineas_de_pago-line_ids/Fecha_vencimiento-ml_maturity_date]]></fieldDescription>
	</field>
	<field name="invoice_number" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/Lineas_de_pago-line_ids/Ref._factura-ml_inv_ref/Lineas_de_factura-invoice_line/Ref._factura-invoice_id/Numero_factura-number]]></fieldDescription>
	</field>
	<field name="invoice_date" class="java.util.Date">
		<fieldDescription><![CDATA[/data/record/line_ids/ml_inv_ref/invoice_line/invoice_id/date_invoice]]></fieldDescription>
	</field>
	<field name="payment_mode_name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/Modo_de_pago-mode/Nombre-name]]></fieldDescription>
	</field>
	<field name="payment_mode_bank_name" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/mode/bank_id/bank/name]]></fieldDescription>
	</field>
	<field name="payment_mode_bank_city" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/mode/bank_id/city]]></fieldDescription>
	</field>
	<field name="payment_mode_bank_street" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/mode/bank_id/street]]></fieldDescription>
	</field>
	<field name="payment_mode_bank_zip" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/mode/bank_id/zip]]></fieldDescription>
	</field>
	<field name="payment_mode_bank_account" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/mode/bank_id/acc_number]]></fieldDescription>
	</field>
	<field name="type" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/type]]></fieldDescription>
	</field>
	<field name="company_footer1" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/User/company_id/rml_footer1]]></fieldDescription>
	</field>
	<field name="payment_mode_bank_iban" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/mode/bank_id/iban]]></fieldDescription>
	</field>
	<field name="payment_date" class="java.util.Date">
		<fieldDescription><![CDATA[/data/record/line_ids/date]]></fieldDescription>
	</field>
	<field name="acc_number" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/line_ids/bank_id/acc_number]]></fieldDescription>
	</field>
	<field name="iban" class="java.lang.String">
		<fieldDescription><![CDATA[/data/record/line_ids/bank_id/iban]]></fieldDescription>
	</field>
	<variable name="L" class="java.util.Locale">
		<variableExpression><![CDATA[$P{REPORT_LOCALE}]]></variableExpression>
		<initialValueExpression><![CDATA[$P{REPORT_LOCALE}]]></initialValueExpression>
	</variable>
	<variable name="ID_REMESA" class="java.lang.String" resetType="Group" resetGroup="remesa" calculation="First">
		<variableExpression><![CDATA[$F{id}]]></variableExpression>
		<initialValueExpression><![CDATA[$F{id}]]></initialValueExpression>
	</variable>
	<group name="remesa">
		<groupExpression><![CDATA[$V{ID_REMESA}]]></groupExpression>
		<groupHeader>
			<band/>
		</groupHeader>
		<groupFooter>
			<band height="26">
				<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
					<reportElement style="textoscabecera" x="700" y="6" width="100" height="12"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9"/>
					</textElement>
					<textFieldExpression class="java.lang.Double"><![CDATA[$F{total}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="textoscabecera" x="564" y="6" width="132" height="12"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Total:")]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="158" splitType="Stretch">
			<textField>
				<reportElement style="textoscabecera" x="1" y="88" width="123" height="12"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Reference:")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="textoscabecera" x="1" y="143" width="240" height="11"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Partner")]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="156" width="802" height="1"/>
			</line>
			<textField>
				<reportElement style="textoscabecera" x="376" y="143" width="89" height="11"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Invoice")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="textoscabecera" x="543" y="143" width="76" height="11"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Date Due")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="textoscabecera" x="719" y="143" width="79" height="11"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Amount")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="textoscabecera" x="466" y="143" width="76" height="11"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Inv. Date")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement style="textoscabecera" x="126" y="88" width="102" height="12"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{order_number}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement x="2" y="0" width="800" height="40"/>
				<subreportParameter name="DOCUMENT">
					<subreportParameterExpression><![CDATA[$F{type} == "payable" ?
    tr($V{L},"Payment Order")
:
    tr($V{L},"Charging Order")]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="WITH_DATE">
					<subreportParameterExpression><![CDATA[true]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="LANG">
					<subreportParameterExpression><![CDATA[$F{lang}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[$P{HEADER_DS}]]></dataSourceExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{STANDARD_DIR} + "landscape_header.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement x="563" y="55" width="235" height="12"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{payment_mode_bank_name}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="564" y="67" width="234" height="12"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{payment_mode_bank_street}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="564" y="79" width="44" height="12"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{payment_mode_bank_zip}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="608" y="79" width="190" height="12"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{payment_mode_bank_city}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="textoscabecera" x="1" y="102" width="123" height="12"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Payment Mode:")]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="126" y="102" width="336" height="12"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{payment_mode_name}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="126" y="114" width="400" height="12"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{payment_mode_bank_account} == null || $F{payment_mode_bank_account} == "" ?
    $F{payment_mode_bank_iban}
:
    $F{payment_mode_bank_account}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="textoscabecera" x="1" y="114" width="123" height="12"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Bank Account:")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="textoscabecera" x="620" y="143" width="76" height="11"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Payment Date")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="textoscabecera" x="244" y="143" width="130" height="11"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[tr($V{L},"Account Number")]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="17" splitType="Stretch">
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement x="721" y="0" width="79" height="14"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.Double"><![CDATA[$F{amount}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="1" y="0" width="240" height="15"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{partner_name}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="543" y="0" width="76" height="15"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{due_date}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="376" y="0" width="89" height="15"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{invoice_number}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="466" y="0" width="76" height="15"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{invoice_date}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="620" y="0" width="76" height="15"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{payment_date}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="244" y="0" width="130" height="15" isRemoveLineWhenBlank="true"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{acc_number} != ""
?
    $F{acc_number}
:
    $F{iban}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="13" splitType="Stretch">
			<textField>
				<reportElement x="745" y="0" width="37" height="12"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{PAGE_NUMBER} + "/"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="782" y="0" width="18" height="12"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="1" y="0" width="744" height="12"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="6"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{company_footer1}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
